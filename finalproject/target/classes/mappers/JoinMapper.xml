<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

  <mapper namespace="org.zerock.myapp.mapper.JoinMapper">
  
  	<select id="select" resultType="org.zerock.myapp.domain.UsersVO">
        SELECT * 
        FROM users
        WHERE uids = #{uids}
    </select>

    <delete id="remove">
        UPDATE users 
        SET is_delete = 1 , reason = #{reason}
        WHERE uids = #{uids}
    </delete>

    <insert id="join">
      Insert into users(uids, password, name, phonenumber, email) 
      values(#{uids}, #{password}, #{name}, #{phonenumber}, #{email})
    </insert>

    <update id="update">
        UPDATE users
        SET password = #{password},
        	name = #{name},
            phonenumber = #{phonenumber},
            email = #{email}
        WHERE
            uids = #{uids}
    </update>

   
    <select id="checkId" resultType="int">
        select count(*) 
        from users 
        where uids=#{uids}
    </select>
    
    <select id="checkPw" resultType="int">
        select count(*) 
        from users 
        where uids = {#uids} and password=#{password}
    </select>


  </mapper>
  
 
